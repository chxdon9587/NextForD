["Migration deployed successfully in Supabase\n- [ ] Triggers recreated with SECURITY DEFINER\n- [ ] Helper functions have SECURITY DEFINER\n- [ ] Admin policies no longer have circular references\n- [ ] Test: Create new project - should work without error\n- [ ] Test: Sign up new user - backer role auto-assigned\n- [ ] Test: Publish project - creator role auto-assigned\n\n## Troubleshooting\n\nIf you still see errors after deployment:\n\n1. **Check migration ran:**\n```sql\nSELECT * FROM pg_migrations\nORDER BY name DESC LIMIT 5;\n```\n\n2. **Check triggers exist:**\n```sql\nSELECT trigger_name FROM information_schema.triggers\nWHERE trigger_schema = 'public'\nAND trigger_name LIKE '%role%';\n```\n\n3. **Check functions exist:**\n```sql\nSELECT routine_name FROM information_schema.routines\nWHERE routine_schema = 'public' AND routine_name LIKE '%role%';\n```\n\n4. **Check RLS on user_roles:**\n```sql\nSELECT relname, relrowse\nFROM pg_class\nWHERE relname = 'user_roles';\n-- Should show: user_roles | true (RLS enabled)\n```\n\n## Notes\n\n- This migration is **safe to run** - it only drops and recreates triggers/policies/functions\n- All existing data in `user_roles` table is preserved\n- This fix is backwards compatible with existing code\n- The previous migration (20260203000001_multi_role_support.sql) still exists but its problematic parts are overridden by this migration\n\n## Reference\n\n**Related Files:**\n- `supabase/migrations/20260203000001_multi_role_support.sql` - Original multi-role migration\n- `app/actions/project.ts` - Creates projects and triggers auto-role assignment\n- `lib/roles.ts` - Frontend helper functions using these database functions"]