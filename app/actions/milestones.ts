[{"@/lib/supabase/server": "import { revalidatePath"}, {"data": "milestone"}, {"error": "Milestone not found"}, {"error": "You can only request verification for your own milestones"}, {"error": "Milestone must be in progress to request verification"}, {"from(\"milestones": ".", "status": "completed", "completion_proof": "proof", "updated_at": "new Date().toISOString()"}, {"console.error(": "rror requesting milestone verification:", "error": "Failed to request verification"}, ["slug]", "return { success: true };\n}\n\nexport async function getProjectBackersCSV(projectId: string) {\n  const supabase = await createClient();\n\n  const {\n    data: { user },\n  } = await supabase.auth.getUser();\n\n  if (!user) {\n    return { error: \"User not authenticated\" };\n  }\n\n  const { data: project } = await supabase\n    .from(\"projects\")\n    .select(\"creator_id\")\n    .eq(\"id", "projectId)\n    .single();\n\n  if (!project || project.creator_id !== user.id) {\n    return { error: \"Project not found or access denied\" };\n  }\n\n  const { data: backings } = await supabase\n    .from(\"backings", ".", "select(`\n      amount,\n      backed_at,\n      users (\n        email,\n        username,\n        full_name\n      ),\n      rewards (\n        title,\n        amount as reward_amount\n      ),\n      shipping_address\n    `)\n    .eq(\"project_id", "projectId)\n    .order(\"backed_at", {"ascending": true}, "if (!backings) {\n    return { error: \"No backers found\" };\n  }\n\n  const headers = [\"Email", "Username", "Full Name", "Amount", "Reward", "Backed At", "Shipping Address"], ["b.users?.email || \"", "b.users?.username || \"", "b.users?.full_name || \"", "b.amount?.toString() || \"", "b.rewards?.title || \"No reward", "new Date(b.backed_at).toLocaleDateString(),\n    JSON.stringify(b.shipping_address || {}),\n  ]);\n\n  const csv = [headers, ...rows].map((row) => row.join(", ")).join(\"", "return { success: true, csv };\n}"]]